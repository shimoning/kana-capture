{"version":3,"file":"diff.mjs","sources":["../../../src/utilities/diff.ts"],"sourcesContent":["/**\n * Diff\n */\nexport type DiffResult = {\n  before: string;\n  after: string;\n  diff: string;\n  same: string;\n  gap: number;\n}\n\nexport function diff(\n  beforeString: string,\n  afterString: string,\n): DiffResult {\n  if (!beforeString.length || !afterString.length) {\n    return {\n      before: beforeString,\n      after: afterString,\n      diff: afterString,\n      same: '',\n      gap: 0,\n    }\n  }\n  if (beforeString === afterString) {\n    return {\n      before: beforeString,\n      after: afterString,\n      diff: '',\n      same: beforeString,\n      gap: 0,\n    }\n  }\n\n  const beforeCharacters = beforeString.split('')\n  const afterCharacters = afterString.split('')\n  const length = Math.max(beforeCharacters.length, afterCharacters.length)\n  const sameCharacters = []\n  const diffCharacters = []\n  let gap = 0\n  for (let i = 0; i < length; i++) {\n    const beforeCharacter = beforeCharacters[i]\n    for (let j = i + gap; j < length; j++, gap++) {\n      const afterCharacter = afterCharacters[j]\n      if (beforeCharacter === afterCharacter) {\n        sameCharacters.push(beforeCharacter)\n        break\n      }\n      diffCharacters.push(afterCharacter)\n    }\n  }\n  return {\n    before: beforeString,\n    after: afterString,\n    diff: diffCharacters.join(''),\n    same: sameCharacters.join(''),\n    gap,\n  }\n}\n"],"names":["diff","beforeString","afterString","beforeCharacters","afterCharacters","length","sameCharacters","diffCharacters","gap","i","beforeCharacter","j","afterCharacter"],"mappings":"AAWgB,SAAAA,EACdC,GACAC,GACY;AACZ,MAAI,CAACD,EAAa,UAAU,CAACC,EAAY;AAChC,WAAA;AAAA,MACL,QAAQD;AAAA,MACR,OAAOC;AAAA,MACP,MAAMA;AAAA,MACN,MAAM;AAAA,MACN,KAAK;AAAA,IACP;AAEF,MAAID,MAAiBC;AACZ,WAAA;AAAA,MACL,QAAQD;AAAA,MACR,OAAOC;AAAA,MACP,MAAM;AAAA,MACN,MAAMD;AAAA,MACN,KAAK;AAAA,IACP;AAGI,QAAAE,IAAmBF,EAAa,MAAM,EAAE,GACxCG,IAAkBF,EAAY,MAAM,EAAE,GACtCG,IAAS,KAAK,IAAIF,EAAiB,QAAQC,EAAgB,MAAM,GACjEE,IAAiB,CAAC,GAClBC,IAAiB,CAAC;AACxB,MAAIC,IAAM;AACV,WAASC,IAAI,GAAGA,IAAIJ,GAAQI,KAAK;AACzB,UAAAC,IAAkBP,EAAiBM,CAAC;AAC1C,aAASE,IAAIF,IAAID,GAAKG,IAAIN,GAAQM,KAAKH,KAAO;AACtC,YAAAI,IAAiBR,EAAgBO,CAAC;AACxC,UAAID,MAAoBE,GAAgB;AACtC,QAAAN,EAAe,KAAKI,CAAe;AACnC;AAAA,MAAA;AAEF,MAAAH,EAAe,KAAKK,CAAc;AAAA,IAAA;AAAA,EACpC;AAEK,SAAA;AAAA,IACL,QAAQX;AAAA,IACR,OAAOC;AAAA,IACP,MAAMK,EAAe,KAAK,EAAE;AAAA,IAC5B,MAAMD,EAAe,KAAK,EAAE;AAAA,IAC5B,KAAAE;AAAA,EACF;AACF;"}